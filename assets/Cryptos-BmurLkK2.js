const __vite__fileDeps=["assets/Crypto-M9UvqfE-.js","assets/index-cYpNaBOn.js","assets/index-CYC9Gui0.css","assets/Close-CR2IX-lD.js","assets/Crypto-CVwDcdy_.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{c as h,j as e,t as S,v as w,r as a,_ as y,C as L}from"./index-cYpNaBOn.js";import{L as M}from"./Legend-CFwFnJdb.js";import{d as N}from"./Close-CR2IX-lD.js";const b=h(e.jsx("path",{d:"M18.21 9.21C15.93 10.78 13.45 13.3 13 17h2v2H9v-2h2c-.5-4.5-4.37-8-9-8V7c4.39 0 8.22 2.55 10 6.3 1.13-2.43 2.99-4.25 4.78-5.52L14 5h7v7z"}),"AirlineStops"),k=h(e.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),E=h(e.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),H=h(e.jsx("path",{d:"M15 19v-2H8.41L20 5.41 18.59 4 7 15.59V9H5v10z"}),"SouthWest");var u={},V=w;Object.defineProperty(u,"__esModule",{value:!0});var j=u.default=void 0,z=V(S()),R=e;j=u.default=(0,z.default)((0,R.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const B="_cryptosHeader_1pdvw_3",A="_cryptosMain_1pdvw_13",D="_cryptosBlock_1pdvw_20",F="_sectionControls_1pdvw_23",P="_searchContainer_1pdvw_48",q="_cryptosItems_1pdvw_64",O="_searchIcon_1pdvw_75",W="_searchInput_1pdvw_85",T="_clearIcon_1pdvw_99",t={cryptosHeader:B,cryptosMain:A,cryptosBlock:D,sectionControls:F,searchContainer:P,cryptosItems:q,searchIcon:O,searchInput:W,clearIcon:T},U=a.lazy(()=>y(()=>import("./Crypto-M9UvqfE-.js"),__vite__mapDeps([0,1,2,3,4]))),Y=({searchQuery:r,onSearch:l})=>{const{cryptoData:o,loading:c,error:i}=a.useContext(L),[d,s]=a.useState([]),[_,C]=a.useState("trending");a.useEffect(()=>{if(o.length>0){const n=r?o.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())||p.symbol.toLowerCase().includes(r.toLowerCase())):o;s(n)}},[o,r]);const f=n=>parseFloat(n).toFixed(2),v=(n,p="desc",I=5)=>[...o].sort((m,x)=>p==="asc"?m[n]-x[n]:x[n]-m[n]).slice(0,I),g={trending:v("price_change_24h"),winners:v("high_24h"),losers:v("low_24h","asc"),random:o.sort(()=>.5-Math.random()).slice(0,5)};return c?e.jsx("div",{children:"Loading..."}):i?e.jsxs("div",{children:["Error: ",i]}):o.length===0?e.jsx("div",{children:"No data available"}):e.jsx("div",{className:t.cryptosMain,children:e.jsx($,{title:r?"Search Results":_.charAt(0).toUpperCase()+_.slice(1),cryptos:r?d:g[_],formatPercentage:f,setActiveSection:C,searchQuery:r,onSearch:l})})},$=({title:r,cryptos:l,formatPercentage:o,setActiveSection:c,searchQuery:i,onSearch:d})=>e.jsxs("div",{className:t.cryptosBlock,children:[e.jsx("h2",{className:t.cryptosHeader,children:r}),e.jsxs("div",{className:t.mainContainer,children:[e.jsx(M,{}),e.jsx("input",{type:"text",placeholder:"Search cryptos",value:i,onChange:s=>d(s.target.value),onFocus:s=>s.target.setAttribute("placeholder",""),onBlur:s=>s.target.setAttribute("placeholder","Search cryptos"),className:t.searchInput}),e.jsxs("div",{className:t.sectionControls,children:[e.jsx("button",{onClick:()=>c("trending"),children:e.jsx(b,{})}),e.jsx("button",{onClick:()=>c("winners"),children:e.jsx(k,{})}),e.jsxs("div",{className:t.searchContainer,children:[e.jsx(j,{className:t.searchIcon}),i&&e.jsx(N,{className:t.clearIcon,onClick:()=>d("")})]}),e.jsx("button",{onClick:()=>c("losers"),children:e.jsx(H,{})}),e.jsx("button",{onClick:()=>c("random"),children:e.jsx(E,{})})]}),e.jsx("div",{className:t.cryptosItems,children:l.length>0?l.map(s=>e.jsx(a.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(U,{market_cap_rank:s.market_cap_rank,id:s.id,name:s.name,symbol:s.symbol,image:s.image,current_price:s.current_price,price_change_24h:o(s.price_change_24h)})},s.id)):e.jsx("div",{children:"No results found"})})]})]});export{Y as default};
