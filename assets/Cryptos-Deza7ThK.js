const __vite__fileDeps=["assets/Crypto-CtSuWO_S.js","assets/index-dZo-3_RY.js","assets/index-3PAyort1.css","assets/Crypto-CVwDcdy_.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{c as p,j as s,r as a,_ as f,C as I,t as w,v as y}from"./index-dZo-3_RY.js";import{L}from"./Legend-B0m92Afp.js";const S=p(s.jsx("path",{d:"M18.21 9.21C15.93 10.78 13.45 13.3 13 17h2v2H9v-2h2c-.5-4.5-4.37-8-9-8V7c4.39 0 8.22 2.55 10 6.3 1.13-2.43 2.99-4.25 4.78-5.52L14 5h7v7z"}),"AirlineStops"),N=p(s.jsx("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),k=p(s.jsx("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle"),H=p(s.jsx("path",{d:"M15 19v-2H8.41L20 5.41 18.59 4 7 15.59V9H5v10z"}),"SouthWest"),M="_cryptosHeader_1pdvw_3",b="_cryptosMain_1pdvw_13",E="_cryptosBlock_1pdvw_20",V="_sectionControls_1pdvw_23",z="_searchContainer_1pdvw_48",B="_cryptosItems_1pdvw_64",A="_searchIcon_1pdvw_75",F="_searchInput_1pdvw_85",P="_clearIcon_1pdvw_99",t={cryptosHeader:M,cryptosMain:b,cryptosBlock:E,sectionControls:V,searchContainer:z,cryptosItems:B,searchIcon:A,searchInput:F,clearIcon:P},R=a.lazy(()=>f(()=>import("./Crypto-CtSuWO_S.js"),__vite__mapDeps([0,1,2,3]))),U=({searchQuery:o,onSearch:l})=>{const{cryptoData:n,loading:r,error:i}=a.useContext(I),[d,e]=a.useState([]),[_,j]=a.useState("trending");a.useEffect(()=>{if(n.length>0){const c=o?n.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())||h.symbol.toLowerCase().includes(o.toLowerCase())):n;e(c)}},[n,o]);const u=c=>parseFloat(c).toFixed(2),m=(c,h="desc",g=5)=>[...n].sort((v,x)=>h==="asc"?v[c]-x[c]:x[c]-v[c]).slice(0,g),C={trending:m("price_change_24h"),winners:m("high_24h"),losers:m("low_24h","asc"),random:n.sort(()=>.5-Math.random()).slice(0,5)};return r?s.jsx("div",{children:"Loading..."}):i?s.jsxs("div",{children:["Error: ",i]}):n.length===0?s.jsx("div",{children:"No data available"}):s.jsx("div",{className:t.cryptosMain,children:s.jsx(D,{title:o?"Search Results":_.charAt(0).toUpperCase()+_.slice(1),cryptos:o?d:C[_],formatPercentage:u,setActiveSection:j,searchQuery:o,onSearch:l})})},D=({title:o,cryptos:l,formatPercentage:n,setActiveSection:r,searchQuery:i,onSearch:d})=>s.jsxs("div",{className:t.cryptosBlock,children:[s.jsx("h2",{className:t.cryptosHeader,children:o}),s.jsxs("div",{className:t.mainContainer,children:[s.jsx(L,{}),s.jsx("input",{type:"text",placeholder:"Search cryptos",value:i,onChange:e=>d(e.target.value),onFocus:e=>e.target.setAttribute("placeholder",""),onBlur:e=>e.target.setAttribute("placeholder","Search cryptos"),className:t.searchInput}),s.jsxs("div",{className:t.sectionControls,children:[s.jsx("button",{onClick:()=>r("trending"),children:s.jsx(S,{})}),s.jsx("button",{onClick:()=>r("winners"),children:s.jsx(N,{})}),s.jsxs("div",{className:t.searchContainer,children:[s.jsx(w,{className:t.searchIcon}),i&&s.jsx(y,{className:t.clearIcon,onClick:()=>d("")})]}),s.jsx("button",{onClick:()=>r("losers"),children:s.jsx(H,{})}),s.jsx("button",{onClick:()=>r("random"),children:s.jsx(k,{})})]}),s.jsx("div",{className:t.cryptosItems,children:l.length>0?l.map(e=>s.jsx(a.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(R,{market_cap_rank:e.market_cap_rank,id:e.id,name:e.name,symbol:e.symbol,image:e.image,current_price:e.current_price,price_change_24h:n(e.price_change_24h)})},e.id)):s.jsx("div",{children:"No results found"})})]})]});export{U as default};
